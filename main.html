<! Attempting to use Elm to update Google Maps, based on tutorial: 
    https://github.com/simonh1000/elm-google-maps-2/blob/master/src/Main.elm
    http://simonh1000.github.io/2015/10/elm-architecture-ports/>

<!DOCTYPE HTML>
<html>
<head>
    <meta charset = "UTF-8">
    <title>GMap Tester</title>
    <script type = "text/javascript" src="elm.js"></script>
    <style media = "map_screen">
        #map {
            width: 500px;
            height: 300px;
            background-color: gray;
        }
    </style>
</head>

<body>
    <div id = "elm"></div>

    <div id = "map"></div>

    <script src="https://maps.googleapis.com/maps/api/js"></script>
    <script type = "text/javascript">
        var div = document.getElementById('elm');
        var mapDiv = document.getElementById('map');
        var map = Elm.embed(Elm.Gmap, div);

        map.ports.lat.subscribe(function(lat) {
            console.log("received", lat);
            var initLatLng = new google.maps.LatLng(lat, 5);
            gmap.setCenter(initLatLng);
        })

        var initLatLng = new google.maps.LatLng(39.7, 105);
        var mapOptions = {
            zoom: 4,
            center: initLatLng
        };
        var gmap = new google.maps.Map(mapDiv, mapOptions);
    </script>
</body>

</html>